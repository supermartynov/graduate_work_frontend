{"remainingRequest":"/home/ravshan/Projects/SQL_trainer/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ravshan/Projects/SQL_trainer/web/src/components/TaskAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ravshan/Projects/SQL_trainer/web/src/components/TaskAdd.vue","mtime":1643918929191},{"path":"/home/ravshan/Projects/SQL_trainer/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ravshan/Projects/SQL_trainer/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ravshan/Projects/SQL_trainer/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ravshan/Projects/SQL_trainer/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"TaskAdd\",\n  data: function() {\n    return {\n      show: false,\n      show_notification: false,\n      notification_header: '',\n      notification_body: '',\n      success_notification: null,\n      task: {\n        title: null,\n        topic: null,\n        database: null,\n        description: null,\n        answer: null,\n        helper: null,\n        difficulty: null\n      }\n    }\n  },\n  mounted: function() {\n    this.$store.dispatch('GET_TOPICS');\n    this.$store.dispatch('GET_DATABASES');\n    this.$store.dispatch('GET_DIFFICULTIES');\n  },\n  computed: {\n    get_topics() {\n      return this.$store.getters.ALL_TOPICS;\n    },\n    get_databases() {\n      return this.$store.getters.ALL_DATABASES;\n    },\n    get_difficulties() {\n      return this.$store.getters.ALL_DIFFICULTIES;\n    }\n  },\n  methods: {\n    add: function() {\n      var self = this;\n      return this.$store.dispatch('ADD_TASK', this.task).then(function(res) {\n        if (res.data.success) {\n          self.notification_header = 'Success';\n          self.notification_body = 'Task \\\"' + res.data.title + '\\\" has been created!';\n          self.success_notification = true;\n        } else {\n          self.notification_header = 'Error';\n          self.notification_body = 'Your task has not been created!';\n          self.success_notification = false;\n        }\n        self.show_notification = true;\n      })\n    }\n  }\n}\n",{"version":3,"sources":["TaskAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TaskAdd.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <b-modal v-model=\"show\" id=\"task-add-modal\" size=\"lg\">\n      <template v-slot:modal-title>\n        Create new task\n      </template>\n      <form @submit.prevent=\"add\">\n        <b-row>\n          <b-col sm=\"12\">\n            <b-form-group>\n              <label for=\"topic_id\">Topic:</label>\n              <b-form-select v-model=\"task.topic\" id=\"topic_id\" placeholder=\"Select the topic\"\n                             :plain=\"true\">\n                <option v-for=\"topic in get_topics\" v-bind:value=\"topic.id\">{{topic.title}}</option>\n              </b-form-select>\n            </b-form-group>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col sm=\"12\">\n            <b-form-group>\n              <label for=\"database_id\">Database:</label>\n              <b-form-select v-model=\"task.database\" id=\"database_id\" placeholder=\"Select the database\"\n                             :plain=\"true\">\n                <option v-for=\"database in get_databases\" v-bind:value=\"database.id\">{{database.title}}</option>\n              </b-form-select>\n            </b-form-group>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col sm=\"12\">\n            <b-form-group>\n              <label for=\"title\">Title:</label>\n              <b-form-input v-model=\"task.title\" type=\"text\" id=\"title\" placeholder=\"Enter the title of the task\"></b-form-input>\n            </b-form-group>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col sm=\"12\">\n            <b-form-group>\n              <label for=\"difficulty\">Difficulty:</label>\n              <b-form-select v-model=\"task.difficulty\" id=\"difficulty\" placeholder=\"Select the difficulty\"\n                             :plain=\"true\">\n                <option v-for=\"difficulty in get_difficulties\" v-bind:value=\"difficulty.id\">{{difficulty.title}}</option>\n              </b-form-select>\n            </b-form-group>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col sm=\"12\">\n            <b-form-group>\n              <label for=\"description\">Description:</label>\n              <b-form-textarea v-model=\"task.description\" id=\"description\" placeholder=\"Enter the description of the task\"></b-form-textarea>\n            </b-form-group>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col sm=\"12\">\n            <b-form-group>\n              <label for=\"answer\">Right answer:</label>\n              <b-form-textarea v-model=\"task.answer\" id=\"answer\" placeholder=\"Enter the answer to the task\"></b-form-textarea>\n            </b-form-group>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col sm=\"12\">\n            <b-form-group>\n              <label for=\"helper\">Hints (optional):</label>\n              <b-form-textarea v-model=\"task.helper\" id=\"help\" placeholder=\"Enter hints to the task\"></b-form-textarea>\n            </b-form-group>\n          </b-col>\n        </b-row>\n      </form>\n      <template v-slot:modal-footer>\n        <b-btn type=\"button\" class=\"btn btn-secondary float-right\" @click=\"show = false\">Close</b-btn>\n        <b-btn type=\"submit\" class=\"btn btn-success float-right\" @click=\"add()\">Create</b-btn>\n      </template>\n    </b-modal>\n    <b-modal v-model=\"show_notification\" id=\"task-notification-modal\" size=\"sm\">\n      <template v-slot:modal-title>\n        {{notification_header}}\n      </template>\n      {{notification_body}}\n      <template v-slot:modal-footer>\n        <b-btn v-if=\"success_notification === false\" type=\"button\" class=\"btn btn-danger float-right\" @click=\"show_notification = false\">Ok</b-btn>\n        <b-btn v-if=\"success_notification === true\" type=\"button\" class=\"btn btn-success float-right\" @click=\"$router.go(0)\">Ok</b-btn>\n      </template>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TaskAdd\",\n  data: function() {\n    return {\n      show: false,\n      show_notification: false,\n      notification_header: '',\n      notification_body: '',\n      success_notification: null,\n      task: {\n        title: null,\n        topic: null,\n        database: null,\n        description: null,\n        answer: null,\n        helper: null,\n        difficulty: null\n      }\n    }\n  },\n  mounted: function() {\n    this.$store.dispatch('GET_TOPICS');\n    this.$store.dispatch('GET_DATABASES');\n    this.$store.dispatch('GET_DIFFICULTIES');\n  },\n  computed: {\n    get_topics() {\n      return this.$store.getters.ALL_TOPICS;\n    },\n    get_databases() {\n      return this.$store.getters.ALL_DATABASES;\n    },\n    get_difficulties() {\n      return this.$store.getters.ALL_DIFFICULTIES;\n    }\n  },\n  methods: {\n    add: function() {\n      var self = this;\n      return this.$store.dispatch('ADD_TASK', this.task).then(function(res) {\n        if (res.data.success) {\n          self.notification_header = 'Success';\n          self.notification_body = 'Task \\\"' + res.data.title + '\\\" has been created!';\n          self.success_notification = true;\n        } else {\n          self.notification_header = 'Error';\n          self.notification_body = 'Your task has not been created!';\n          self.success_notification = false;\n        }\n        self.show_notification = true;\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}